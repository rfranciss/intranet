<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pipeway Engenharia - Intranet</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --primary-color: #4caf50;
      --hover-color: #66bb6a;
      --text-color: #ffffff;
      --bg-mask: rgba(0, 0, 0, 0.2);
      --menu-bg: transparent;
      --tab-bg: rgba(0, 0, 0, 0.85);
      --tab-active-bg: rgba(76, 175, 80, 0.7);
      --button-bg: rgba(255, 255, 255, 0.15);
    }

    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Roboto', sans-serif;
      overflow: hidden;
    }

    .video-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .video-mask {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-mask);
      z-index: -1;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 3;
      flex-wrap: wrap;
      background: transparent;
      height: 70px;
    }

    .branding {
      display: flex;
      flex-direction: column;
      color: var(--text-color);
      align-items: center;
      justify-content: center;
      text-align: center;
      width: 100%;
    }

    .branding h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.6em;
      margin: 0;
      letter-spacing: 2px;
      text-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-color), 0 0 30px var(--primary-color);
      color: #ffffff;
      line-height: 1;
    }

    .branding .subtitle {
      font-size: 1em;
      margin-top: 5px;
      opacity: 1;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 10px #4caf50, 0 0 20px #4caf50, 0 0 30px #4caf50;
      color: #aaffaa;
      font-weight: bold;
      animation: pulsate 2s infinite alternate;
    }

    @keyframes pulsate {
      0% {
        text-shadow: 0 0 10px #4caf50, 0 0 20px #4caf50, 0 0 30px #4caf50;
      }
      100% {
        text-shadow: 0 0 15px #4caf50, 0 0 30px #4caf50, 0 0 40px #4caf50;
      }
    }

    /* Contador moderno */
    .counter {
      position: fixed;
      top: 15px;
      right: 20px;
      background: rgba(0, 0, 0, 0.6);
      color: #aaffaa;
      padding: 8px 15px;
      borderRadius: 20px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9em;
      z-index: 4;
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
      display: flex;
      align-items: center;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(76, 175, 80, 0.3);
    }

    .counter i {
      margin-right: 8px;
      color: #4caf50;
    }

    /* Abas superiores */
    .top-tabs {
      position: fixed;
      bottom: 0;
      left: 50%;
      top: auto;
      transform: translateX(-50%);
      width: 100%;
      justify-content: center;
      margin: 0;
      z-index: 100;
      background: none;
    }

    /* Ajuste dos menus para caber texto horizontalmente e botões alinhados */
    .top-tabs {
      flex-direction: row;
      flex-wrap: nowrap;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      margin: 0;
      z-index: 100;
      background: none;
      gap: 10px;
    }
    .top-tab {
      min-width: 140px;
      padding: 12px 28px;
      font-size: 1em;
      white-space: nowrap;
      text-align: center;
      box-sizing: border-box;
    }

    .top-tab {
      background: var(--button-bg);
      color: #333;
      padding: 12px 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 30px !important;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-bottom: none;
      box-shadow: 2px -2px 5px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 120px;
      font-family: 'Roboto', sans-serif;
      font-size: 0.9em;
      font-weight: bold;
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
    }

    .top-tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.2) 100%);
      z-index: 0;
    }

    .top-tab i {
      margin-right: 8px;
      font-size: 1em;
      z-index: 1;
    }

    .top-tab span {
      z-index: 1;
    }

    .top-tab:hover {
      transform: translateY(-5px);
      box-shadow: 5px -5px 10px rgba(0, 0, 0, 0.3);
      background: rgba(255, 255, 255, 0.25);
    }

    .top-tab.active {
      background: rgba(255, 255, 255, 0.3);
      color: #000;
      box-shadow: 5px -5px 10px rgba(0, 0, 0, 0.4);
      transform: translateY(-3px);
      /* Corrige alinhamento do botão 'Início' para não ficar cortado no topo */
      margin-top: 8px;
    }

    /* Menus com fonte e sombra branca luminosa */
    .top-tab, .header, .branding h1 {
      text-shadow: 0 0 8px #fff, 0 0 16px #fff, 0 0 32px #fff;
    }

    /* Área de conteúdo central */
    .content-area {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      height: 75%;
      background: var(--tab-bg);
      border-radius: 15px;
      z-index: 5;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(76, 175, 80, 0.4);
      backdrop-filter: blur(10px);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .content-header {
      padding: 15px 20px;
      background: rgba(0, 0, 0, 0.4);
      border-bottom: 1px solid rgba(76, 175, 80, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .content-header h2 {
      margin: 0;
      color: #aaffaa;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 5px #4caf50;
      font-size: 1.4em;
    }

    .close-btn {
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.5em;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .close-btn:hover {
      color: #aaffaa;
    }

    .content-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      color: #ffffff;
    }

    .content-body h3 {
      color: #aaffaa;
      border-bottom: 1px solid rgba(76, 175, 80, 0.3);
      padding-bottom: 10px;
      margin-top: 0;
    }

    .content-body ul {
      padding-left: 20px;
    }

    .content-body li {
      margin-bottom: 10px;
    }

    .content-body a {
      color: #aaffaa;
      text-decoration: none;
    }

    .content-body a:hover {
      text-decoration: underline;
      text-shadow: 0 0 5px #4caf50;
    }

    /* Overlay esmaecido quando o conteúdo está aberto */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 4;
      backdrop-filter: blur(5px);
      display: none;
    }

    /* Carrossel na página inicial */
    .carousel-container {
      width: 100%;
      max-width: 800px;
      aspect-ratio: 16/9;
      position: relative;
      margin: 20px auto;
      overflow: hidden;
      border-radius: 15px;
      box-shadow: 0 0 25px rgba(76, 175, 80, 0.4);
      border: 2px solid rgba(76, 175, 80, 0.3);
      background: #000;
    }

    /* Deixa o widget mais para baixo dos botões do menu */
    .carousel-container {
      margin-top: 120px;
    }

    .carousel {
      display: flex;
      width: 600%;
      height: 100%;
      transition: transform 0.8s ease;
    }

    .carousel-item {
      width: 16.666%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-item img,
    .carousel-item video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .carousel-indicators {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
    }

    .indicator {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .indicator.active {
      background-color: #4caf50;
      transform: scale(1.2);
      box-shadow: 0 0 10px #4caf50;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      padding: 15px;
      cursor: pointer;
      z-index: 10;
      font-size: 1.5em;
      transition: background 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .carousel-nav:hover {
      background: rgba(76, 175, 80, 0.7);
    }

    .carousel-nav.prev {
      left: 10px;
      border-radius: 0 8px 8px 0;
    }

    .carousel-nav.next {
      right: 10px;
      border-radius: 8px 0 0 8px;
    }

    /* Página inicial */
    .home-content {
      text-align: center;
      padding: 20px;
      color: #ffffff;
    }

    .home-content h2 {
      color: #aaffaa;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 10px #4caf50;
      margin-bottom: 30px;
    }

    /* Loader para widgets */
    .loader {
      display: inline-block;
      width: 12px;
      height: 12px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #4caf50;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Responsividade */
    @media (max-width: 1200px) {
      .widgets-container {
        width: 280px;
        right: 15px;
      }
      
      .content-area {
        width: 85%;
        height: 75%;
      }
      
      .top-tab {
        min-width: 110px;
        padding: 10px 15px;
        font-size: 0.85em;
      }
    }

    @media (max-width: 992px) {
      .widgets-container {
        position: relative;
        top: 0;
        right: 0;
        width: 100%;
        max-width: 600px;
        margin: 20px auto;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .widget {
        width: calc(50% - 10px);
        min-width: 160px;
        max-width: 220px;
        flex: 0 1 180px;
        margin: 8px auto;
        margin-top: 150px;
      }
      
      .carousel-container {
        width: 90%;
      }
      
      .content-area {
        width: 90%;
        height: 75%;
      }
      
      .top-tabs {
        top: 70px;
        flex-wrap: wrap;
        justify-content: center;
        width: 90%;
      }
      
      .top-tab {
        min-width: 100px;
        padding: 8px 12px;
        font-size: 0.8em;
      }
    }

    @media (max-width: 768px) {
      .branding h1 {
        font-size: 1.4em;
      }
      
      .branding .subtitle {
        font-size: 0.9em;
      }
      
      .counter {
        top: 12px;
        right: 15px;
        font-size: 0.8em;
        padding: 6px 12px;
      }
      
      .carousel-container {
        width: 95%;
        height: 300px;
      }

      .widgets-container {
        flex-direction: column;
        align-items: center;
      }
      
      .widget {
        width: 100%;
        max-width: 400px;
      }
      
      .top-tabs {
        top: 60px;
        width: 95%;
      }
      
      .top-tab {
        min-width: 80px;
        padding: 6px 10px;
        font-size: 0.75em;
      }
      
      .top-tab i {
        margin-right: 5px;
        font-size: 0.9em;
      }
      
      .content-area {
        width: 95%;
        height: 75%;
      }
      
      .content-header h2 {
        font-size: 1.2em;
      }
    }

    @media (max-width: 480px) {
      .counter {
        font-size: 0.7em;
        padding: 5px 10px;
      }
      
      .header {
        padding: 8px 15px;
        height: 60px;
      }
      
      .branding h1 {
        font-size: 1.2em;
      }
      
      .branding .subtitle {
        font-size: 0.8em;
      }
      
      .carousel-container {
        height: 200px;
      }
      
      .carousel-nav {
        padding: 10px;
        font-size: 1.2em;
      }
      
      .widgets-container {
        gap: 10px;
      }
      
      .widget {
        padding: 10px;
      }
      
      .top-tabs {
        top: 55px;
      }
      
      .top-tab {
        min-width: 70px;
        padding: 5px 8px;
        font-size: 0.7em;
      }
      
      .top-tab i {
        font-size: 0.8em;
        margin-right: 3px;
      }
      
      .content-header h2 {
        font-size: 1.1em;
      }
      
      .content-body {
        padding: 15px;
      }
    }

    /* Espaço extra entre os botões do menu e o fundo do carrossel */
    .top-tabs {
      margin-top: 60px;
      margin-bottom: 2cm;
    }

    .top-tab {
      font-weight: bold !important;
    }
  </style>
</head>
<body>

  <video autoplay muted loop class="video-bg">
    <source src="pipeway.mp4" type="video/mp4" />
    Seu navegador não suporta vídeo de fundo.
  </video>
  <div class="video-mask"></div>

  <div class="header">
    <div class="branding">
      <h1>PIPEWAY</h1>
      <div class="subtitle">Intranet Corporativa</div>
    </div>
    
    <!-- Contador moderno -->
    <div class="counter">
      <i class="fas fa-users"></i>
      <span id="visitor-count">1245</span> Visitantes
    </div>
  </div>

  <!-- Abas superiores -->
  <div class="top-tabs">
    <div class="top-tab active" data-tab="home">
      <i class="fas fa-home"></i>
      <span>Início</span>
    </div>
    <div class="top-tab" data-tab="telefonia">
      <i class="fas fa-phone"></i>
      <span>Telefonia</span>
    </div>
    <div class="top-tab" data-tab="suporte">
      <i class="fas fa-headset"></i>
      <span>Suporte TI</span>
    </div>
    <div class="top-tab" data-tab="pcp">
      <i class="fas fa-user-tie"></i>
      <span>PCP NASAJON</span>
    </div>
    <div class="top-tab" data-tab="minhapw">
      <i class="fas fa-key"></i>
      <span>Minha PW</span>
    </div>
    <div class="top-tab" data-tab="contato">
      <i class="fas fa-envelope"></i>
      <span>Fale Conosco</span>
    </div>
    <div class="top-tab" data-tab="historia" onclick="window.location.href='sobre.html'">
      <i class="fas fa-history"></i>
      <span>Nossa História</span>
    </div>
  </div>

  <!-- Overlay esmaecido -->
  <div class="overlay" id="overlay"></div>

  <!-- Área de conteúdo central -->
  <div class="content-area" id="content-area">
    <div class="content-header">
      <h2 id="content-title"></h2>
      <button class="close-btn" id="close-btn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="content-body" id="content-body">
      <!-- Conteúdo da página inicial -->
      <div id="home-content" class="tab-content active">
        <div class="home-content">
          <h2>P i p e w a y  E n g e n h a r i a</h2>
          
          <!-- Widget de Carrossel de Imagens -->
          <div class="carousel-container" id="carousel-container">
            <div class="carousel">
              <div class="carousel-item">
                <img src="/fotos/1.jpg" alt="Engenharia industrial">
              </div>
              <div class="carousel-item">
                <img src="/fotos/2.jpg" alt="Tubulações industriais">
              </div>
              <div class="carousel-item">
                <img src="/fotos/3.jpg" alt="Projeto de engenharia">
              </div>
              <div class="carousel-item">
                <img src="/fotos/4.jpg" alt="Sistemas de tubulação">
              </div>
              <div class="carousel-item">
                <img src="/fotos/5.jpg" alt="Sistemas de tubulação">
              </div>
              <div class="carousel-item">
                <video muted loop style="width:100%;height:100%;object-fit:cover;">
                  <source src="/fotos/6.mp4" type="video/mp4">
                </video>
              </div>
            </div>
            
            <button class="carousel-nav prev">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="carousel-nav next">
              <i class="fas fa-chevron-right"></i>
            </button>
            
            <div class="carousel-indicators">
              <div class="indicator active" data-index="0"></div>
              <div class="indicator" data-index="1"></div>
              <div class="indicator" data-index="2"></div>
              <div class="indicator" data-index="3"></div>
              <div class="indicator" data-index="4"></div>
              <div class="indicator" data-index="5"></div>
            </div>
          </div>
          
          <p>Utilize as abas superiores para acessar os recursos da intranet.</p>
        </div>
      </div>
      
      <!-- Conteúdo das outras abas (inicialmente oculto) -->
      <div id="telefonia-content" class="tab-content" style="display:none;">
        <h3>Lista Telefônica</h3>
        <p>Lista completa de contatos internos da Pipeway Engenharia:</p>
        <ul>
          <li><strong>Diretoria:</strong> (11) 3456-7890</li>
          <li><strong>Engenharia:</strong> (11) 3456-7891</li>
          <li><strong>Projetos:</strong> (11) 3456-7892</li>
          <li><strong>Compras:</strong> (11) 3456-7893</li>
          <li><strong>RH:</strong> (11) 3456-7894</li>
          <li><strong>Financeiro:</strong> (11) 3456-7895</li>
          <li><strong>Suporte TI:</strong> (11) 3456-7896</li>
        </ul>
        <p>Para acessar a lista telefônica completa, <a href="http://10.10.10.5/tel/" target="_blank">clique aqui</a>.</p>
      </div>
      
      <div id="suporte-content" class="tab-content" style="display:none;">
        <h3>Suporte de TI</h3>
        <p>Entre em contato com nossa equipe de Suporte de TI para resolver problemas técnicos:</p>
        <ul>
          <li><strong>Telefone:</strong> (11) 3456-7896</li>
          <li><strong>Email:</strong> suporte@pipeway.com.br</li>
          <li><strong>Horário de atendimento:</strong> Segunda a sexta, das 8h às 18h</li>
        </ul>
        <p>Para abrir um chamado, preencha o formulário de solicitação abaixo:</p>
        
        <form style="margin-top:20px;">
          <div style="margin-bottom:10px;">
            <label>Nome:</label>
            <input type="text" style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white;">
          </div>
          <div style="margin-bottom:10px;">
            <label>Departamento:</label>
            <input type="text" style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white;">
          </div>
          <div style="margin-bottom:10px;">
            <label>Problema:</label>
            <textarea style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white; height:100px;"></textarea>
          </div>
          <button type="button" style="background:#4caf50; color:white; border:none; padding:10px 20px; border-radius:4px; cursor:pointer;">Enviar Solicitação</button>
        </form>
      </div>
      
      <div id="pcp-content" class="tab-content" style="display:none;">
        <h3>PCP NASAJON</h3>
        <p>Acesso ao sistema PCP (Planejamento and Controle de Produção) NASAJON:</p>
        <p>Para acessar o sistema, <a href="http://10.10.10.105/pcp2110/web/login#/pcp_apontamentosdeproducoes?usuario=8498ff13-9f7b-42e1-bff0-9589ae20af14&modofiltro=OR" target="_blank">clique aqui</a>.</p>
        <p>Manuais e instruções:</p>
        <ul>
          <li><a href="#">Manual do Usuário - PCP NASAJON</a></li>
          <li><a href="#">Procedimentos de Apontamento de Produção</a></li>
          <li><a href="#">Relatórios de Produção</a></li>
        </ul>
      </div>
      
      <div id="minhapw-content" class="tab-content" style="display:none;">
        <h3>Minha PW</h3>
        <p>Acesso ao sistema Minha PW:</p>
        <p>Para acessar o sistema, <a href="http://10.10.10.5/pw" target="_blank">clique aqui</a>.</p>
        <p>Recursos disponíveis:</p>
        <ul>
          <li>Consulta de holerite</li>
          <li>Solicitação de férias</li>
          <li>Registro de ponto eletrônico</li>
          <li>Benefícios</li>
          <li>Dados cadastrais</li>
        </ul>
      </div>
      
      <div id="contato-content" class="tab-content" style="display:none;">
        <h3>Fale Conosco</h3>
        <p>Entre em contato conosco:</p>
        <ul>
          <li><strong>Endereço:</strong> Rua das Tubulações, 123, Industrial, São Paulo - SP</li>
          <li><strong>Telefone:</strong> (11) 3456-7800</li>
          <li><strong>Email:</strong> contato@pipeway.com.br</li>
        </ul>
        <p>Preencha o formulário abaixo para enviar uma mensagem:</p>
        
        <form style="margin-top:20px;">
          <div style="margin-bottom:10px;">
            <label>Nome:</label>
            <input type="text" style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white;">
          </div>
          <div style="margin-bottom:10px;">
            <label>Email:</label>
            <input type="email" style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white;">
          </div>
          <div style="margin-bottom:10px;">
            <label>Mensagem:</label>
            <textarea style="width:100%; padding:8px; border-radius:4px; border:1px solid #4caf50; background:rgba(0,0,0,0.5); color:white; height:100px;"></textarea>
          </div>
          <button type="button" style="background:#4caf50; color:white; border:none; padding:10px 20px; border-radius:4px; cursor:pointer;">Enviar Mensagem</button>
        </form>
      </div>
      
      <div id="historia-content" class="tab-content" style="display:none;">
        <h3>Nossa História</h3>
        <p>A Pipeway Engenharia foi fundada em 1995 com o objetivo de oferecer soluções inovadoras em sistemas de tubulação industrial.</p>
        <p>Nossa missão é proporcionar aos clientes projetos de engenharia de alta qualidade, com foco em eficiência, segurança e sustentabilidade.</p>
        <p><strong>Linha do tempo:</strong></p>
        <ul>
          <li><strong>1995:</strong> Fundação da Pipeway Engenharia</li>
          <li><strong>2002:</strong> Expansão para o mercado internacional</li>
          <li><strong>2010:</strong> Certificação ISO 9001</li>
          <li><strong>2015:</strong> Implementação de sistema de gestão integrada</li>
          <li><strong>2020:</strong> Digitalização de processos e implantação de Intranet corporativa</li>
        </ul>
        <p>Valores: Qualidade, Inovação, Segurança e Sustentabilidade.</p>
      </div>
    </div>
  </div>

  <script>
    // Variável global para controlar o intervalo do carrossel
    let carouselInterval;

    // Contador de visitantes (incrementa a cada visita)
    document.addEventListener('DOMContentLoaded', function() {
      let count = localStorage.getItem('visitorCount');
      if (count === null) {
        count = 1245;
      } else {
        count = parseInt(count) + 1;
      }
      localStorage.setItem('visitorCount', count);
      document.getElementById('visitor-count').textContent = count;
      
      // Inicializar o carrossel
      initCarousel();
      
      // Inicializar o sistema de abas
      initTabs();
      
      // Carregar dados dos widgets
      getWeather();
      getDollarRate();
      loadSportsNews();
      loadWorldNews();
      
      // Atualizar dados a cada 5 minutos
      setInterval(function() {
        getWeather();
        getDollarRate();
        loadSportsNews();
        loadWorldNews();
      }, 300000);
    });
    
    // Funcionalidade do sistema de abas
    function initTabs() {
      const tabs = document.querySelectorAll('.top-tab');
      const overlay = document.getElementById('overlay');
      const contentArea = document.getElementById('content-area');
      const closeBtn = document.getElementById('close-btn');
      
      // Event listener para as abas
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const tabId = tab.getAttribute('data-tab');
          
          // Ativar a aba clicada
          tabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          
          // Mostrar conteúdo correspondente
          document.querySelectorAll('.tab-content').forEach(content => {
            content.style.display = 'none';
          });
          
          document.getElementById(`${tabId}-content`).style.display = 'block';
          document.getElementById('content-title').textContent = tab.querySelector('span').textContent;
          
          // Mostrar overlay e garantir que a área de conteúdo está visível
          overlay.style.display = 'block';
          contentArea.style.display = 'flex';
        });
      });
      
      // Fechar a área de conteúdo
      closeBtn.addEventListener('click', () => {
        overlay.style.display = 'none';
        contentArea.style.display = 'none';
        
        // Reativar a aba inicial
        tabs.forEach(tab => {
          tab.classList.remove('active');
          if (tab.getAttribute('data-tab') === 'home') {
            tab.classList.add('active');
          }
        });
        
        // Mostrar conteúdo inicial
        document.querySelectorAll('.tab-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById('home-content').style.display = 'block';
        document.getElementById('content-title').textContent = 'Bem-vindo à Intranet Pipeway';
      });
      
      // Fechar ao clicar no overlay
      overlay.addEventListener('click', () => {
        overlay.style.display = 'none';
        contentArea.style.display = 'none';
        
        // Reativar a aba inicial
        tabs.forEach(tab => {
          tab.classList.remove('active');
          if (tab.getAttribute('data-tab') === 'home') {
            tab.classList.add('active');
          }
        });
        
        // Mostrar conteúdo inicial
        document.querySelectorAll('.tab-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById('home-content').style.display = 'block';
        document.getElementById('content-title').textContent = 'Bem-vindo à Intranet Pipeway';
      });
    }
    
    // Funcionalidade do carrossel de imagens com pausa automática
    function initCarousel() {
      const carousel = document.querySelector('.carousel');
      const indicators = document.querySelectorAll('.indicator');
      const prevBtn = document.querySelector('.carousel-nav.prev');
      const nextBtn = document.querySelector('.carousel-nav.next');
      const carouselContainer = document.getElementById('carousel-container');
      const totalItems = 6;
      let currentIndex = 0;
      let carouselInterval = null;
      let videoPlaying = false;

      // Função para atualizar o carrossel
      function updateCarousel(index) {
        carousel.style.transform = `translateX(-${index * (100 / totalItems)}%)`;
        indicators.forEach((indicator, i) => {
          if (i === index) {
            indicator.classList.add('active');
          } else {
            indicator.classList.remove('active');
          }
        });
        document.querySelectorAll('.carousel-item video').forEach((video, i) => {
          video.pause();
          video.currentTime = 0;
          video.onended = null;
        });
        // Corrige: só tenta dar play se o elemento for realmente um vídeo
        const activeItem = document.querySelectorAll('.carousel-item')[index];
        const activeVideo = activeItem ? activeItem.querySelector('video') : null;
        if (activeVideo) {
          videoPlaying = true;
          // Tira o atributo 'paused' se necessário
          activeVideo.muted = true;
          activeVideo.loop = false;
          activeVideo.play();
          activeVideo.onended = () => {
            videoPlaying = false;
            nextSlide();
            startAutoSlide();
          };
        } else {
          videoPlaying = false;
        }
        currentIndex = index;
      }

      function nextSlide() {
        let nextIndex = (currentIndex + 1) % totalItems;
        updateCarousel(nextIndex);
      }

      function prevSlide() {
        let prevIndex = (currentIndex - 1 + totalItems) % totalItems;
        updateCarousel(prevSlide);
      }

      function startAutoSlide() {
        if (carouselInterval) {
          clearInterval(carouselInterval);
        }
        if (!videoPlaying) {
          carouselInterval = setInterval(() => {
            if (!videoPlaying) nextSlide();
          }, 4000);
        }
      }

      function stopAutoSlide() {
        if (carouselInterval) {
          clearInterval(carouselInterval);
          carouselInterval = null;
        }
      }

      prevBtn.addEventListener('click', () => {
        stopAutoSlide();
        prevSlide();
        startAutoSlide();
      });
      nextBtn.addEventListener('click', () => {
        stopAutoSlide();
        nextSlide();
        startAutoSlide();
      });
      indicators.forEach((indicator) => {
        indicator.addEventListener('click', () => {
          stopAutoSlide();
          const index = parseInt(indicator.getAttribute('data-index'));
          updateCarousel(index);
          startAutoSlide();
        });
      });
      carouselContainer.addEventListener('mouseenter', () => {
        stopAutoSlide();
      });
      carouselContainer.addEventListener('mouseleave', () => {
        startAutoSlide();
      });
      updateCarousel(0);
      startAutoSlide();
      
      // Reproduzir o vídeo do slide inicial
      document.querySelector('.carousel-item video').play();
    }

    // Função para obter dados meteorológicos
    function getWeather() {
      // Simulação de dados meteorológicos
      const temp = Math.floor(Math.random() * 15) + 15; // entre 15 e 30
      document.getElementById('widget-weather-temp').textContent = `${temp}°C`;
      document.getElementById('widget-weather-location').textContent = 'São Paulo, SP';
    }
    
    // Função para obter a cotação do dólar
    function getDollarRate() {
      // Simulação de dados do dólar
      const dollarRate = (Math.random() * 0.5 + 5).toFixed(2);
      const variation = (Math.random() * 2 - 1).toFixed(2);

      document.getElementById('widget-dollar-value').textContent = `R$ ${dollarRate}`;

      let variationText = `${variation}%`;
      let variationClass = 'positive';

      if (variation > 0) {
        variationText = `+${variationText}`;
      } else if (variation < 0) {
        variationClass = 'negative';
      }

      document.getElementById('widget-dollar-variation').textContent = variationText;
      document.getElementById('widget-dollar-variation').className = `dollar-variation ${variationClass}`;
    }

    // Função para carregar notícias esportivas
    function loadSportsNews() {
      const news = [
        {
          title: "Brasil vence Argentina em amistoso",
          time: "Há 1h",
          link: "https://www.uol.com.br/esporte/"
        },
        {
          title: "Fórmula 1: GP do Brasil no domingo",
          time: "Há 3h",
          link: "https://www.uol.com.br/esporte/"
        },
        {
          title: "Campeonato Brasileiro tem novidades",
          time: "Ontem",
          link: "https://www.uol.com.br/esporte/"
        }
      ];

      const newsContainer = document.getElementById('widget-sports-news');
      newsContainer.innerHTML = '';

      news.forEach(item => {
        const newsItem = document.createElement('div');
        newsItem.className = 'news-item';
        newsItem.innerHTML = `
          <span class="news-title" onclick="window.open('${item.link}', '_blank')">${item.title}</span>
          <span class="news-date">${item.time}</span>
        `;
        newsContainer.appendChild(newsItem);
      });
    }

    // Função para carregar notícias internacionais
    function loadWorldNews() {
      const news = [
        {
          title: "ONU discute crise no Oriente Médio",
          time: "Há 2h",
          link: "https://www.bbc.com/portuguese"
        },
        {
          title: "UE anuncia novo pacote econômico",
          time: "Há 4h",
          link: "https://www.bbc.com/portuguese"
        },
        {
          title: "Avanços nas negociações climáticas globais",
          time: "Ontem",
          link: "https://www.bbc.com/portuguese"
        }
      ];

      const newsContainer = document.getElementById('widget-world-news');
      newsContainer.innerHTML = '';

      news.forEach(item => {
        const newsItem = document.createElement('div');
        newsItem.className = 'news-item';
        newsItem.innerHTML = `
          <span class="news-title" onclick="window.open('${item.link}', '_blank')">${item.title}</span>
          <span class="news-date">${item.time}</span>
        `;
        newsContainer.appendChild(newsItem);
      });
    }
  </script>
</body>
</html>